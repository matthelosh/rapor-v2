import{h as N,E as R}from"./el-popper-CSgOSG04.js";import{E as O,a as I,b as V,c as H}from"./el-popover-C-6kZ3_v.js";import{b as L,E as P}from"./el-button-DBt5XuGS.js";import{E as q}from"./el-scrollbar-DEwsvyBO.js";import{l as M,r as z,h as T,o as t,c as v,w as o,b as l,n as y,u as e,q as F,s as G,g as b,e as x,t as _,a as s,k as $,H as U,Q as D,f as c,j as E,F as B,x as A,B as K,ax as Q,D as W}from"./app-CXa1tqa2.js";import{I as f}from"./iconify-DvK26OuJ.js";import{E as Y}from"./el-divider-Bz5v_98_.js";import{b as J,i as X,aw as Z,T as ee,u as ae,N as se,E as le,_ as oe,w as re}from"./index-D5RD23Xt.js";const ne=J({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:L,default:"primary"},cancelButtonType:{type:String,values:L,default:"text"},icon:{type:X,default:()=>Z},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:N.teleported,persistent:N.persistent,width:{type:[String,Number],default:150}}),te={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},ie=M({name:"ElPopconfirm"}),ue=M({...ie,props:ne,emits:te,setup(n,{emit:d}){const p=n,{t:m}=ee(),i=ae("popconfirm"),u=z(),g=()=>{var a,j;(j=(a=u.value)==null?void 0:a.onClose)==null||j.call(a)},w=T(()=>({width:se(p.width)})),r=a=>{d("confirm",a),g()},k=a=>{d("cancel",a),g()},h=T(()=>p.confirmButtonText||m("el.popconfirm.confirmButtonText")),S=T(()=>p.cancelButtonText||m("el.popconfirm.cancelButtonText"));return(a,j)=>(t(),v(e(R),U({ref_key:"tooltipRef",ref:u,trigger:"click",effect:"light"},a.$attrs,{"popper-class":`${e(i).namespace.value}-popover`,"popper-style":e(w),teleported:a.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":a.hideAfter,persistent:a.persistent}),{content:o(()=>[l("div",{class:y(e(i).b())},[l("div",{class:y(e(i).e("main"))},[!a.hideIcon&&a.icon?(t(),v(e(le),{key:0,class:y(e(i).e("icon")),style:F({color:a.iconColor})},{default:o(()=>[(t(),v(G(a.icon)))]),_:1},8,["class","style"])):b("v-if",!0),x(" "+_(a.title),1)],2),l("div",{class:y(e(i).e("action"))},[s(e(P),{size:"small",type:a.cancelButtonType==="text"?"":a.cancelButtonType,text:a.cancelButtonType==="text",onClick:k},{default:o(()=>[x(_(e(S)),1)]),_:1},8,["type","text"]),s(e(P),{size:"small",type:a.confirmButtonType==="text"?"":a.confirmButtonType,text:a.confirmButtonType==="text",onClick:r},{default:o(()=>[x(_(e(h)),1)]),_:1},8,["type","text"])],2)],2)]),default:o(()=>[a.$slots.reference?$(a.$slots,"reference",{key:0}):b("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var de=oe(ue,[["__file","popconfirm.vue"]]);const ce=re(de),C=D(),pe=(n=null)=>n==null?["superadmin","admin","admin_tp","org"].includes(C.props.auth.roles[0])||C.props.auth.user.userable.jk=="Laki-laki"?"/img/user_l.png":C.props.auth.user.userable.agama=="Islam"?"/img/user_p_is.png":"/img/user_p.png":n.foto==null?n.jk=="Laki-laki"?"/img/user_l.png":n.agama=="Islam"?"/img/user_p_is.png":"/img/user_p.png":n.foto,Oe=n=>n.jk=="Laki-laki"?"/img/siswa.png":n.agama=="Islam"?"/img/siswi-is.png":"/img/siswi.png",me=[{label:"Dashboard",icon:"monitor-dashboard",url:"/dashboard",children:[],roles:["admin","superadmin","ops","kepala_sekolah","guru_kelas","guru_agama","guru_pjok","guru_inggris","siswa"]},{label:"Data Utama",icon:"database",url:"#",roles:["superadmin","admin","admin_tp","ops","kepala_sekolah","guru_kelas","guru_agama","guru_pjok","guru_inggris","siswa"],children:[{label:"Gugus",icon:"office-building-cog",url:"/dashboard/gugus",roles:["superadmin","admin"]},{label:"Organisasi",icon:"account-group",url:"/dashboard/organisasi",roles:["superadmin","admin"]},{label:"Operator",icon:"laptop-account",url:"/dashboard/operator",roles:["superadmin","admin","kepala_sekolah"]},{label:"Sekolah",icon:"city-variant",url:"/dashboard/sekolah",roles:["superadmin","admin","ops","kepala_sekolah"]},{label:"Guru",icon:"account-tie",url:"/dashboard/guru",roles:["superadmin","admin","ops","kepala_sekolah"]},{label:"Siswa",icon:"human-child",url:"/dashboard/siswa",roles:["superadmin","admin","ops","guru_kelas"]},{label:"Rombel",icon:"google-classroom",url:"/dashboard/rombel",roles:["superadmin","admin","ops","guru_kelas"]},{label:"Pembelajaran",icon:"bookshelf",url:"/dashboard/pembelajaran",roles:["superadmin","admin","ops","admin_tp","guru_agama","guru_inggris","guru_kelas","guru_pjok"]}]},{label:"Berita",icon:"typewriter",url:"/dashboard/post",roles:["superadmin","admin"],children:[]},{label:"Asesmen",icon:"folder-question",url:"#",roles:["guru_kelas","guru_agama","guru_pjok","guru_inggris","ops","admin"],children:[{label:"Data Asesmen",url:"/dashboard/asesmen",icon:"file-question",roles:["admin","guru_kelas","guru_agama","guru_pjok","guru_inggris","ops"]},{label:"Bank Soal",url:"/dashboard/soal",icon:"question-network",roles:["guru_kelas","guru_agama","guru_pjok","guru_inggris","ops"]}]},{label:"Data Nilai",icon:"numeric",url:"#",roles:["guru_kelas","guru_agama","guru_pjok","guru_inggris","ops"],children:[{label:"Input Nilai",icon:"edit",url:"/dashboard/nilai",roles:["guru_kelas","guru_agama","guru_pjok","guru_inggris"]},{label:"Ledger",icon:"spreadsheet",url:"/dashboard/ledger",roles:["guru_kelas"]}]},{label:"Rapor",icon:"report",url:"#",roles:["guru_kelas","ops","admin"],children:[{label:"Data Periodik",icon:"chart-line",url:"/dashboard/rapor/periodik",roles:["guru_kelas"]},{label:"Cetak",icon:"printer",url:"/dashboard/rapor/cetak",roles:["guru_kelas","kepala_sekolah"]},{label:"Tanggal Rapor",icon:"calendar",url:"/dashboard/rapor/tanggal",roles:["superadmin","admin"]},{label:"Arsip",icon:"archive",url:"/dashboard/rapor/arsip",roles:["ops"]}]},{label:"P5",icon:"folder",url:"#",roles:["superadmin","admin","ops","guru_kelas"],children:[{label:"Dimensi & Elemen",icon:"folder",url:"/dashboard/p5",roles:["superadmin","admin"]},{label:"Proyek P5",icon:"folder",url:"/dashboard/p5/proyek",roles:["ops","guru_kelas"]},{label:"Nilai P5",icon:"pencil-box",url:"/dashboard/p5/nilai",roles:["guru_kelas"]}]},{label:"SPN",icon:"religion-islamic",url:"/dashboard/spn",roles:["superadmin","admin","guru_kelas","guru_agama"],children:[]},{label:"Pengaturan",icon:"settings",url:"#",roles:["superadmin","admin","ops"],children:[{label:"Periode Akademik",icon:"calendar",url:"/dashboard/periode",roles:["superadmin","admin"]},{label:"Agenda",icon:"calendar-check",url:"/dashboard/agenda",roles:["superadmin","admin"]},{label:"Hak Akses",icon:"account-settings",url:"/dashboard/roles",roles:["superadmin","admin"]},{label:"Backup",icon:"harddisk",url:"/dashboard/backup",roles:["superadmin","admin"]}]}],ge={class:"p-0"},he={class:"avatar relative bg-sky-200 py-8"},_e=["src"],fe={class:"absolute bottom-0 bg-sky-800 text-center text-white font-black tracking-wide w-full py-3 px-2 bg-opacity-90"},be={class:"menu-item py-2 px-4"},ke={key:0},ye={key:1,class:"group"},ve=["href"],we={class:"flex items-center gap-1"},xe={class:"pl-4 pt-1 child"},Be={key:0},Te={__name:"SideMenu",setup(n){const d=D(),p=i=>{i.target.closest("li").querySelector("ul.child").classList.toggle("hidden")},m=i=>i.includes(d.props.auth.roles[0]);return(i,u)=>{const g=Y,w=q;return t(),c("div",ge,[l("div",he,[l("img",{src:e(pe)(),class:"rounded-full border border-dashed border-4 border-slate-500 drop-shadow object-cover w-40 mx-auto clip-path"},null,8,_e),l("h3",fe,[s(e(E),{href:i.route("profile.edit")},{default:o(()=>[x(_(e(d).props.auth.user.userable?e(d).props.auth.user.userable.nama:e(d).props.auth.user.name),1)]),_:1},8,["href"])])]),l("div",be,[s(g,null,{default:o(()=>u[0]||(u[0]=[x("Menu")])),_:1}),s(w,{height:"500"},{default:o(()=>[l("ul",null,[(t(!0),c(B,null,A(e(me),(r,k)=>(t(),c(B,{key:k},[r.children&&r.children.length<1&&m(r.roles)?(t(),c("li",ke,[s(e(E),{href:r.url,class:y([{active:i.$page.url===r.url},"flex items-center gap-1"])},{default:o(()=>[s(e(f),{icon:`mdi:${r.icon}`},null,8,["icon"]),l("span",null,_(r.label),1)]),_:2},1032,["href","class"])])):b("",!0),r.children.length>0&&m(r.roles)?(t(),c("li",ye,[l("a",{href:r.url,onClick:p,class:"parent flex justify-between items-center gap-1 text-slate-600"},[l("span",we,[s(e(f),{icon:`mdi:${r.icon}`},null,8,["icon"]),l("span",null,_(r.label),1)]),s(e(f),{icon:"mdi:chevron-up"})],8,ve),l("ul",xe,[(t(!0),c(B,null,A(r.children,(h,S)=>(t(),c(B,{key:k+"-"+S},[m(h.roles)?(t(),c("li",Be,[s(e(E),{href:h.url,class:y([{active:i.$page.url===h.url},"flex items-center gap-1"])},{default:o(()=>[s(e(f),{icon:`mdi:${h.icon}`},null,8,["icon"]),l("span",null,_(h.label),1)]),_:2},1032,["href","class"])])):b("",!0)],64))),128))])])):b("",!0)],64))),128))])]),_:1})])])}}},Ee={class:"common-layout h-screen w-screen"},Se={class:"side-content h-full bg-slate-100"},je={class:"content bg-white mt-2 w-full flex items-center justify-between h-full p-4 shadow-md rounded-b-md"},Ce={class:"head-title flex items-center gap-2"},Pe={class:"header-items flex items-center"},$e={key:0},De={__name:"DashLayout",setup(n){const d=z(!0),p=D(),m=()=>{W.post(route("logout"))};T(()=>window.innerWidth<=414?"0%":"15%");const i=()=>{const u=document.querySelector("aside");u.style.width="50%",u.classList.toggle("hidden-sm-and-down")};return K(()=>{d.value=!0}),(u,g)=>{const w=q,r=P,k=ce;return t(),c("div",Ee,[s(e(I),{class:"h-full w-full"},{default:o(()=>[e(p).props.auth.roles[0]!=="siswa"?(t(),v(e(O),{key:0,width:"15%",class:"max-h-screen hidden-sm-and-down"},{default:o(()=>[l("div",Se,[s(w,{"max-height":"100vh"},{default:o(()=>[s(Te)]),_:1})])]),_:1})):b("",!0),s(e(I),null,{default:o(()=>[s(e(V),{class:"px-8 z-40 bg-white"},{default:o(()=>[l("div",je,[l("div",Ce,[l("span",null,[e(p).props.auth.roles[0]!=="siswa"?(t(),v(e(f),{key:0,icon:"mdi:menu",class:"text-xl hidden-md-and-up",onClick:i})):(t(),v(e(E),{key:1,href:u.route("dashboard")},{default:o(()=>[s(e(f),{icon:"mdi:home"})]),_:1},8,["href"]))]),g[0]||(g[0]=l("img",{src:"/img/tutwuri.png",class:"w-10 hidden-md-and-down"},null,-1)),$(u.$slots,"header")]),l("div",Pe,[s(k,{title:"Yakin Keluar?",onConfirm:m,class:"ml-4"},{reference:o(()=>[s(r,{type:"danger",circle:"",text:""},{default:o(()=>[s(e(f),{icon:"mdi:exit-to-app",class:"text-2xl"})]),_:1})]),_:1})])])]),_:3}),s(e(H),null,{default:o(()=>[s(Q,{name:"slide-fade",mode:"out-in",duration:500},{default:o(()=>[d.value?(t(),c("div",$e,[$(u.$slots,"default")])):b("",!0)]),_:3})]),_:3})]),_:3})]),_:3})])}}},Ve=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"}));export{Ve as D,ce as E,De as _,pe as a,Oe as f};
