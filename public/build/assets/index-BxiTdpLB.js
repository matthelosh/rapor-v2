import{b as P,m as V,x as M,u as w,_ as B,a1 as j,E as U,w as W,a as q}from"./index-CH2Tk2ta.js";import{av as z,aw as G,r as T,E as J,p as Q,h as r,l as f,o as K,f as A,k as _,n as u,u as t,c as R,w as I,H as X,a_ as Y,ax as Z,ao as ee,b as x,e as te,t as ae,a as H,aL as se,d as oe,i as le,ai as ne}from"./app-DSVmZEKi.js";import{m as ie}from"./typescript-Bp3YSIOJ.js";import{U as O,C as S}from"./event-HEVJa2N9.js";import{c as $}from"./castArray-mnFg3Ne5.js";import{v as de}from"./el-popper-CaImQOyu.js";const k=a=>M(a)||z(a)||G(a),re=P({accordion:Boolean,modelValue:{type:V([Array,String,Number]),default:()=>ie([])}}),ce={[O]:k,[S]:k},D=Symbol("collapseContextKey"),pe=(a,l)=>{const s=T($(a.modelValue)),n=o=>{s.value=o;const i=a.accordion?s.value[0]:s.value;l(O,i),l(S,i)},e=o=>{if(a.accordion)n([s.value[0]===o?"":o]);else{const i=[...s.value],d=i.indexOf(o);d>-1?i.splice(d,1):i.push(o),n(i)}};return J(()=>a.modelValue,()=>s.value=$(a.modelValue),{deep:!0}),Q(D,{activeNames:s,handleItemClick:e}),{activeNames:s,setActiveNames:n}},me=()=>{const a=w("collapse");return{rootKls:r(()=>a.b())}},ue=f({name:"ElCollapse"}),fe=f({...ue,props:re,emits:ce,setup(a,{expose:l,emit:s}){const n=a,{activeNames:e,setActiveNames:o}=pe(n,s),{rootKls:i}=me();return l({activeNames:e,setActiveNames:o}),(d,p)=>(K(),A("div",{class:u(t(i))},[_(d.$slots,"default")],2))}});var ve=B(fe,[["__file","collapse.vue"]]);const ge=f({name:"ElCollapseTransition"}),he=f({...ge,setup(a){const l=w("collapse-transition"),s=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},n={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){s(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){s(e)},leaveCancelled(e){s(e)}};return(e,o)=>(K(),R(Z,X({name:t(l).b()},Y(n)),{default:I(()=>[_(e.$slots,"default")]),_:3},16,["name"]))}});var b=B(he,[["__file","collapse-transition.vue"]]);b.install=a=>{a.component(b.name,b)};const ye=b,Ce=P({title:{type:String,default:""},name:{type:V([String,Number]),default:void 0},disabled:Boolean}),be=a=>{const l=ee(D),{namespace:s}=w("collapse"),n=T(!1),e=T(!1),o=de(),i=r(()=>o.current++),d=r(()=>{var y;return(y=a.name)!=null?y:`${s.value}-id-${o.prefix}-${t(i)}`}),p=r(()=>l==null?void 0:l.activeNames.value.includes(t(d)));return{focusing:n,id:i,isActive:p,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:n.value=!0},50)},handleHeaderClick:()=>{a.disabled||(l==null||l.handleItemClick(t(d)),n.value=!1,e.value=!0)},handleEnterClick:()=>{l==null||l.handleItemClick(t(d))}}},_e=(a,{focusing:l,isActive:s,id:n})=>{const e=w("collapse"),o=r(()=>[e.b("item"),e.is("active",t(s)),e.is("disabled",a.disabled)]),i=r(()=>[e.be("item","header"),e.is("active",t(s)),{focusing:t(l)&&!a.disabled}]),d=r(()=>[e.be("item","arrow"),e.is("active",t(s))]),p=r(()=>e.be("item","wrap")),v=r(()=>e.be("item","content")),g=r(()=>e.b(`content-${t(n)}`)),h=r(()=>e.b(`head-${t(n)}`));return{arrowKls:d,headKls:i,rootKls:o,itemWrapperKls:p,itemContentKls:v,scopedContentId:g,scopedHeadId:h}},we=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],Ee=["id","aria-hidden","aria-labelledby"],xe=f({name:"ElCollapseItem"}),He=f({...xe,props:Ce,setup(a,{expose:l}){const s=a,{focusing:n,id:e,isActive:o,handleFocus:i,handleHeaderClick:d,handleEnterClick:p}=be(s),{arrowKls:v,headKls:g,rootKls:h,itemWrapperKls:y,itemContentKls:L,scopedContentId:E,scopedHeadId:N}=_e(s,{focusing:n,isActive:o,id:e});return l({isActive:o}),(C,c)=>(K(),A("div",{class:u(t(h))},[x("button",{id:t(N),class:u(t(g)),"aria-expanded":t(o),"aria-controls":t(E),"aria-describedby":t(E),tabindex:C.disabled?-1:0,type:"button",onClick:c[0]||(c[0]=(...m)=>t(d)&&t(d)(...m)),onKeydown:c[1]||(c[1]=se(oe((...m)=>t(p)&&t(p)(...m),["stop","prevent"]),["space","enter"])),onFocus:c[2]||(c[2]=(...m)=>t(i)&&t(i)(...m)),onBlur:c[3]||(c[3]=m=>n.value=!1)},[_(C.$slots,"title",{},()=>[te(ae(C.title),1)]),H(t(U),{class:u(t(v))},{default:I(()=>[H(t(j))]),_:1},8,["class"])],42,we),H(t(ye),null,{default:I(()=>[le(x("div",{id:t(E),role:"region",class:u(t(y)),"aria-hidden":!t(o),"aria-labelledby":t(N)},[x("div",{class:u(t(L))},[_(C.$slots,"default")],2)],10,Ee),[[ne,t(o)]])]),_:3})],2))}});var F=B(He,[["__file","collapse-item.vue"]]);const ke=W(ve,{CollapseItem:F}),Pe=q(F);export{Pe as E,ke as a};
