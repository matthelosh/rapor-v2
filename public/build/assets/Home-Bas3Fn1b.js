import"./el-popper-CaImQOyu.js";import{v as L}from"./el-loading-CwoIpuHC.js";/* empty css                  *//* empty css                   */import{E as P,a as K}from"./el-form-item-CkXmoQH5.js";import{E as M}from"./el-input-sz4wU1yw.js";/* empty css               */import{E as Q,a as Z}from"./el-select-C4bmNPi_.js";import"./el-scrollbar-eSEge-wK.js";/* empty css                *//* empty css                        */import{_ as q,E as J}from"./DashLayout-DZQtduZ9.js";import"./el-popover-BvxHu4lO.js";import{E as R,a as W}from"./el-button-DYt1oPSe.js";import{E as X,a as Y}from"./el-table-column-BNGLBdhX.js";import"./el-checkbox-CwFy4y1C.js";import{Q as ee,r as E,o as c,f as w,a,u as k,Z as ae,w as t,e as r,b as p,t as d,i as te,c as x,F as D,x as le,D as C}from"./app-DSVmZEKi.js";import{I as oe}from"./iconify--ESl54GR.js";import{E as g}from"./index-Bcw9lRsO.js";import{E as se}from"./index-Cns6kdyt.js";import{E as re}from"./index-BlbCqnu5.js";import"./index-CH2Tk2ta.js";import"./castArray-mnFg3Ne5.js";import"./use-form-item-DBlcTQiz.js";import"./isEqual-clAqURvA.js";import"./_initCloneObject-Dy11O6uP.js";import"./typescript-Bp3YSIOJ.js";import"./event-HEVJa2N9.js";import"./index-BPhvBLmT.js";import"./index-DILpBOml.js";import"./scroll-_juTpDpT.js";import"./debounce-BQCk7hAm.js";import"./index-DqcSeyRI.js";import"./el-divider-BV5q6UHO.js";import"./use-dialog-C_dmPDPa.js";const ne={class:"flex items-center justify-between"},ue={class:"toolbar flex items-center"},ie={class:"p-4 bg-sky-50"},me={class:"flex items-center justify-between"},Qe={__name:"Home",props:{guguses:Array},setup(G){const b=ee(),h=G,v=E(!1),s=E({}),u=E(!1),F=()=>{u.value=!0},N=()=>{u.value=!1,s.value={}},S=i=>{u.value=!0,s.value=i},B=async()=>{await C.post(route("dashboard.gugus.store"),s.value,{onSuccess:()=>{g({title:"Info",message:b.props.flash.message,type:"success"})},onError:i=>{Object.keys(i).forEach(e=>{setTimeout(()=>{g({title:"Error",message:i[e],type:"error"})},1e3)})},onFinish:()=>{v.value=!1,s.value={},u.value=!1}})},I=async i=>{C.delete(route("dashboard.gugus.destroy",{id:i}),{onSuccess:()=>{g({title:"Info",message:b.props.flash.message,type:"success"})},onError:e=>{Object.keys(e).forEach(m=>{setTimeout(()=>{g({title:"Error",message:e[m],type:"error"})},1e3)})},onFinish:()=>{v.value=!1,s.value={},u.value=!1}})};return(i,e)=>{const m=R,n=X,y=Y,T=J,j=W,U=se,V=M,_=P,A=Q,O=Z,H=K,$=re,z=L;return c(),w(D,null,[a(k(ae),{title:"Data Gugus"}),a(q,null,{header:t(()=>e[5]||(e[5]=[r("Data Gugus")])),default:t(()=>[a(U,null,{header:t(()=>[p("div",ne,[e[7]||(e[7]=p("h3",null,"Manajemen Gugus",-1)),p("div",ue,[a(m,{type:"primary",onClick:F,size:"small"},{default:t(()=>e[6]||(e[6]=[r("Tambah")])),_:1})])])]),default:t(()=>[a(y,{data:h.guguses},{default:t(()=>[a(n,{label:"No",type:"index"}),a(n,{label:"Nama",prop:"nama"}),a(n,{label:"Anggota"},{default:t(({row:l})=>[r(d(l.sekolahs.length),1)]),_:1}),a(n,{label:"Detail",type:"expand",width:"100"},{default:t(({row:l})=>[p("div",ie,[e[8]||(e[8]=p("h3",{class:"font-bold text-sky-700"},"Data Anggota",-1)),a(y,{data:l.sekolahs},{default:t(()=>[a(n,{label:"Nama"},{default:t(o=>[r(d(o.row.nama),1)]),_:2},1024),a(n,{label:"Alamat"},{default:t(o=>[r(d(o.row.alamat),1)]),_:2},1024),a(n,{label:"Guru"},{default:t(o=>{var f;return[r(d((f=o.row.gurus)==null?void 0:f.length),1)]}),_:2},1024)]),_:2},1032,["data"])])]),_:1}),a(n,{label:"Sekretariat"},{default:t(({row:l})=>{var o;return[r(d((o=l.sekretariat)==null?void 0:o.nama),1)]}),_:1}),a(n,{label:"Ketua"},{default:t(({row:l})=>{var o,f;return[r(d((f=(o=l.sekretariat)==null?void 0:o.ks)==null?void 0:f.nama),1)]}),_:1}),a(n,{label:"Opsi"},{default:t(({row:l})=>[a(j,{size:"small"},{default:t(()=>[a(m,{onClick:o=>S(l)},{default:t(()=>e[9]||(e[9]=[r("Edit")])),_:2},1032,["onClick"]),a(T,{title:"Hapus Gugus?",onConfirm:o=>I(l.id)},{reference:t(()=>[a(m,{type:"danger"},{default:t(()=>e[10]||(e[10]=[r("Hapus")])),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),a($,{modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=l=>u.value=l),"show-close":!1},{header:t(()=>[p("div",me,[e[11]||(e[11]=p("h1",null,"Formulir Gugus",-1)),a(m,{circle:"",type:"danger",onClick:N},{default:t(()=>[a(k(oe),{icon:"mdi-close"})]),_:1})])]),default:t(()=>[te((c(),x(H,{modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value=l),"label-width":"200"},{default:t(()=>[a(_,{label:"Nama"},{default:t(()=>[a(V,{modelValue:s.value.nama,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.nama=l),placeholder:"Nama Gugus"},null,8,["modelValue"])]),_:1}),a(_,{label:"Deskripsi"},{default:t(()=>[a(V,{modelValue:s.value.deskripsi,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.deskripsi=l),placeholder:"Deskripsi Gugus"},null,8,["modelValue"])]),_:1}),a(_,{label:"Sekretariat"},{default:t(()=>[a(O,{modelValue:s.value.sekretariat,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.sekretariat=l),placeholder:"Pilih Sekretariat",filterable:""},{default:t(()=>[(c(!0),w(D,null,le(k(b).props.sekolahs,(l,o)=>(c(),x(A,{value:l.npsn,label:l.nama},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),a(_,{label:""},{default:t(()=>[a(m,{type:"primary",onClick:B},{default:t(()=>e[12]||(e[12]=[r("Simpan")])),_:1})]),_:1})]),_:1},8,["modelValue"])),[[z,v.value]])]),_:1},8,["modelValue"])],64)}}};export{Qe as default};
