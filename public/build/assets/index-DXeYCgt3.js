import{S as O,j as A,k as P}from"./isEqual-Dax5dt4i.js";import{I,ao as E,t as g,a9 as L,j as v,f as _,n as x,z as D}from"./index-D5RD23Xt.js";import{n as F,j as w}from"./el-popper-CSgOSG04.js";var H=1,T=2;function G(n,e,t,s){var r=t.length,o=r;if(n==null)return!o;for(n=Object(n);r--;){var i=t[r];if(i[2]?i[1]!==n[i[0]]:!(i[0]in n))return!1}for(;++r<o;){i=t[r];var a=i[0],f=n[a],l=i[1];if(i[2]){if(f===void 0&&!(a in n))return!1}else{var d=new O,c;if(!(c===void 0?A(l,f,H|T,s,d):c))return!1}}return!0}function y(n){return n===n&&!I(n)}function S(n){for(var e=P(n),t=e.length;t--;){var s=e[t],r=n[s];e[t]=[s,r,y(r)]}return e}function C(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function B(n){var e=S(n);return e.length==1&&e[0][2]?C(e[0][0],e[0][1]):function(t){return t===n||G(t,n,e)}}var U=1,k=2;function K(n,e){return E(n)&&y(e)?C(g(n),e):function(t){var s=L(t,n);return s===void 0&&s===e?F(t,n):A(e,s,U|k)}}function N(n){return function(e){return e==null?void 0:e[n]}}function $(n){return function(e){return v(e,n)}}function q(n){return E(n)?N(g(n)):$(n)}function W(n){return typeof n=="function"?n:n==null?w:typeof n=="object"?_(n)?K(n[0],n[1]):B(n):q(n)}const u=new Map;let h;x&&(document.addEventListener("mousedown",n=>h=n),document.addEventListener("mouseup",n=>{for(const e of u.values())for(const{documentHandler:t}of e)t(n,h)}));function m(n,e){let t=[];return Array.isArray(e.arg)?t=e.arg:D(e.arg)&&t.push(e.arg),function(s,r){const o=e.instance.popperRef,i=s.target,a=r==null?void 0:r.target,f=!e||!e.instance,l=!i||!a,d=n.contains(i)||n.contains(a),c=n===i,R=t.length&&t.some(p=>p==null?void 0:p.contains(i))||t.length&&t.includes(a),M=o&&(o.contains(i)||o.contains(a));f||l||d||c||R||M||e.value(s,r)}}const X={beforeMount(n,e){u.has(n)||u.set(n,[]),u.get(n).push({documentHandler:m(n,e),bindingFn:e.value})},updated(n,e){u.has(n)||u.set(n,[]);const t=u.get(n),s=t.findIndex(o=>o.bindingFn===e.oldValue),r={documentHandler:m(n,e),bindingFn:e.value};s>=0?t.splice(s,1,r):t.push(r)},unmounted(n){u.delete(n)}};export{X as C,W as b};
