import{u as R,n as z,Z as x,G as P,H as Q,F as h,b as O,m as T,i as F,o as ee,B as oe,a7 as ne,N as te,ap as le,ai as I}from"./index-CkGV8xCd.js";import{aw as B,aT as k,aD as se,aZ as ae,E as N,aW as ue,ap as D,l as ie,a as re,k as _,m as de,al as ce,r as p,h as Y,au as fe,B as ye}from"./app-BXsEN59A.js";import{U as G}from"./event-HEVJa2N9.js";import{t as me,u as H,q as ve}from"./el-popper-BxfQEJds.js";import{g as pe}from"./scroll-Ca1Q_kqt.js";var E=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(E||{});const M=e=>{const n=B(e)?e:[e],t=[];return n.forEach(o=>{var l;B(o)?t.push(...M(o)):k(o)&&B(o.children)?t.push(...M(o.children)):(t.push(o),k(o)&&((l=o.component)!=null&&l.subTree)&&t.push(...M(o.component.subTree)))}),t},Ee=(e,n={})=>{se(e)||me("[useLockscreen]","You need to pass a ref param to this function");const t=n.ns||R("popup"),o=ae(()=>t.bm("parent","hidden"));if(!z||x(document.body,o.value))return;let l=0,u=!1,s="0";const d=()=>{setTimeout(()=>{h(document==null?void 0:document.body,o.value),u&&document&&(document.body.style.width=s)},200)};N(e,c=>{if(!c){d();return}u=!x(document.body,o.value),u&&(s=document.body.style.width),l=pe(t.namespace.value);const i=document.documentElement.clientHeight<document.body.scrollHeight,f=P(document.body,"overflowY");l>0&&(i||f==="scroll")&&u&&(document.body.style.width=`calc(100% - ${l}px)`),Q(document.body,o.value)}),ue(()=>d())},Te=e=>{if(!e)return{onClick:D,onMousedown:D,onMouseup:D};let n=!1,t=!1;return{onClick:s=>{n&&t&&e(s),n=t=!1},onMousedown:s=>{n=s.target===s.currentTarget},onMouseup:s=>{t=s.target===s.currentTarget}}},Ce=O({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:T([String,Array,Object])},zIndex:{type:T([String,Number])}}),Se={click:e=>e instanceof MouseEvent},be="overlay";var Ae=ie({name:"ElOverlay",props:Ce,emits:Se,setup(e,{slots:n,emit:t}){const o=R(be),l=c=>{t("click",c)},{onClick:u,onMousedown:s,onMouseup:d}=Te(e.customMaskEvent?void 0:l);return()=>e.mask?re("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:s,onMouseup:d},[_(n,"default")],E.STYLE|E.CLASS|E.PROPS,["onClick","onMouseup","onMousedown"]):de("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[_(n,"default")])}});const we=Ae,Be=O({center:Boolean,alignCenter:Boolean,closeIcon:{type:F},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),xe={close:()=>!0},Ie=O({...Be,appendToBody:Boolean,appendTo:{type:T(String),default:"body"},beforeClose:{type:T(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),ke={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[G]:e=>ee(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},_e=(e,n)=>{var t;const l=ce().emit,{nextZIndex:u}=oe();let s="";const d=H(),c=H(),i=p(!1),f=p(!1),v=p(!1),C=p((t=e.zIndex)!=null?t:u());let y,m;const U=ne("namespace",le),V=Y(()=>{const a={},r=`--${U.value}-dialog`;return e.fullscreen||(e.top&&(a[`${r}-margin-top`]=e.top),e.width&&(a[`${r}-width`]=te(e.width))),a}),g=Y(()=>e.alignCenter?{display:"flex"}:{});function K(){l("opened")}function $(){l("closed"),l(G,!1),e.destroyOnClose&&(v.value=!1)}function W(){l("close")}function L(){m==null||m(),y==null||y(),e.openDelay&&e.openDelay>0?{stop:y}=I(()=>w(),e.openDelay):w()}function S(){y==null||y(),m==null||m(),e.closeDelay&&e.closeDelay>0?{stop:m}=I(()=>A(),e.closeDelay):A()}function b(){function a(r){r||(f.value=!0,i.value=!1)}e.beforeClose?e.beforeClose(a):S()}function Z(){e.closeOnClickModal&&b()}function w(){z&&(i.value=!0)}function A(){i.value=!1}function q(){l("openAutoFocus")}function X(){l("closeAutoFocus")}function j(a){var r;((r=a.detail)==null?void 0:r.focusReason)==="pointer"&&a.preventDefault()}e.lockScroll&&Ee(i);function J(){e.closeOnPressEscape&&b()}return N(()=>e.modelValue,a=>{a?(f.value=!1,L(),v.value=!0,C.value=ve(e.zIndex)?u():C.value++,fe(()=>{l("open"),n.value&&(n.value.scrollTop=0)})):i.value&&S()}),N(()=>e.fullscreen,a=>{n.value&&(a?(s=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=s)}),ye(()=>{e.modelValue&&(i.value=!0,v.value=!0,L())}),{afterEnter:K,afterLeave:$,beforeLeave:W,handleClose:b,onModalClick:Z,close:S,doClose:A,onOpenAutoFocus:q,onCloseAutoFocus:X,onCloseRequested:J,onFocusoutPrevented:j,titleId:d,bodyId:c,closed:f,style:V,overlayDialogStyle:g,rendered:v,visible:i,zIndex:C}};export{we as E,xe as a,Ie as b,ke as c,Be as d,Te as e,Ee as f,M as g,_e as u};
