import"./el-popper-CSgOSG04.js";import{v as H}from"./el-loading-6t0r41SN.js";/* empty css                  *//* empty css                   *//* empty css                */import{E as L}from"./el-input-9yGDY5NS.js";/* empty css               */import{E as O,a as q}from"./el-select-Bdh-buAz.js";import"./el-scrollbar-DEwsvyBO.js";import{E as z}from"./el-button-DBt5XuGS.js";import{Q as K,r as k,z as Q,o as t,c as g,w as n,b as e,t as u,a as m,u as T,i as $,e as A,f as r,F as a,x as c,g as G,D as J}from"./app-CXa1tqa2.js";import{I as R}from"./iconify-DvK26OuJ.js";import{E as B}from"./index-CQp_kVH7.js";import{E as W}from"./index-C-oZYRc2.js";import{E as X}from"./index-fGPzLrYH.js";import"./index-D5RD23Xt.js";import"./typescript-Bp3YSIOJ.js";import"./event-HEVJa2N9.js";import"./index-DL5lWSoG.js";import"./use-form-item-THgkJ5sh.js";import"./index-BwSXwK79.js";import"./isEqual-Dax5dt4i.js";import"./scroll-Ccz5mvb_.js";import"./debounce-BJCIde5Q.js";import"./index-DXeYCgt3.js";import"./castArray-Dh1HViVK.js";import"./use-dialog-Dy_TO4ms.js";const Y={class:"header flex items-center justify-between"},Z={class:"border"},ee={rowspan:"2",class:"border border-black py-1 px-2 text-center"},oe={rowspan:"2",class:"border border-black py-1 px-2 text-center"},te={rowspan:"2",class:"border border-black py-1 px-2"},le={key:0,class:"border border-black py-1 px-2"},re=["colspan"],ae={class:"flex items-center justify-end"},Fe={__name:"FormNilaiP5",props:{proyek:Object},emits:["close"],setup(E,{emit:h}){const x=K(),s=E,V=h,_=k(!1),p=k({nilais:!1}),f=k([]),N=async()=>{p.value.nilais=!0,axios.post(route("dashboard.p5.nilai.index",{_query:{rombel:s.proyek.rombel_id,proyek_id:s.proyek.id}})).then(i=>{f.value=i.data.nilais,p.value.nilais=!1}).catch(i=>console.log(i))},w=async()=>{J.post(route("dashboard.p5.nilai.store"),{datas:f.value},{onStart:()=>p.value.nilais=!0,onSuccess:()=>B({title:"Info",message:x.props.flash.message,type:"success"}),onError:i=>B({title:"Error",message:i[0],type:"error"}),onFinish:()=>p.value.nilais=!1})},S=k([{kode:"-",label:""},{kode:"BB",label:"Belum Berkembang"},{kode:"MB",label:"Mulai Berkembang"},{kode:"BSH",label:"Berkembang Sesuai Harapan"},{kode:"SB",label:"Sangat Berkembang"}]);return Q(()=>{_.value=s.proyek!==null,N()}),(i,o)=>{const v=z,I=O,C=q,D=L,P=W,U=X,F=H;return t(),g(U,{fullscreen:"","show-close":!1,modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=l=>_.value=l)},{header:n(()=>[e("div",Y,[e("h3",null,"Input Nilai P5 "+u(s.proyek.nama),1),m(v,{circle:"",type:"danger",onClick:o[0]||(o[0]=l=>V("close"))},{default:n(()=>[m(T(R),{icon:"mdi:close"})]),_:1})])]),default:n(()=>[$((t(),g(P,null,{footer:n(()=>[e("div",ae,[m(v,{type:"primary",onClick:w},{default:n(()=>o[6]||(o[6]=[A("Simpan")])),_:1})])]),default:n(()=>[e("table",Z,[e("thead",null,[e("tr",null,[o[2]||(o[2]=e("th",{class:"border border-black"},"No",-1)),o[3]||(o[3]=e("th",{class:"border border-black"},"NISN",-1)),o[4]||(o[4]=e("th",{class:"border border-black"},"Nama",-1)),(t(!0),r(a,null,c(s.proyek.apds,(l,y)=>(t(),r("th",{key:y,class:"border border-black"},u(l.teks),1))),128))])]),e("tbody",null,[(t(!0),r(a,null,c(f.value,(l,y)=>(t(),r(a,null,[e("tr",null,[e("td",ee,u(y+1),1),e("td",oe,u(l.siswa_id),1),e("td",te,u(l.nama),1),(t(!0),r(a,null,c(l.nilais,(d,se)=>(t(),r(a,null,[(t(!0),r(a,null,c(s.proyek.apds,(j,M)=>(t(),r(a,{key:M},[d.apd_id==j.id?(t(),r("td",le,[m(C,{modelValue:d.skor,"onUpdate:modelValue":b=>d.skor=b},{default:n(()=>[(t(!0),r(a,null,c(S.value,b=>(t(),g(I,{value:b.kode,label:b.label},null,8,["value","label"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):G("",!0)],64))),128))],64))),256))]),e("tr",null,[e("td",{colspan:s.proyek.apds.length,class:"p-4 border border-black"},[o[5]||(o[5]=e("h3",null,"Keterangan Proses:",-1)),m(D,{modelValue:l.proses,"onUpdate:modelValue":d=>l.proses=d},null,8,["modelValue","onUpdate:modelValue"])],8,re)])],64))),256))])])]),_:1})),[[F,p.value.nilais]])]),_:1},8,["modelValue"])}}};export{Fe as default};
