const __vite__fileDeps=["assets/FormImpor-mSsCMpVR.js","assets/el-popper-B3-nZ8oi.js","assets/app-3GUFtrOH.js","assets/app.css","assets/index-B2x63mU4.js","assets/el-popper.css","assets/el-loading-hgMJM1nA.js","assets/el-loading.css","assets/el-table-column-Qf0MkBiT.js","assets/el-scrollbar-CIqwUMlS.js","assets/el-scrollbar.css","assets/index-Vz1i3QTS.js","assets/isEqual-DCumJgtv.js","assets/debounce-CnRpw7Y9.js","assets/el-checkbox-BsNBKZec.js","assets/event-HEVJa2N9.js","assets/use-form-item-dmhAT8wH.js","assets/el-checkbox.css","assets/_initCloneObject-C3R_YUuX.js","assets/el-table-column.css","assets/el-button-C7x9JFIA.js","assets/el-button.css","assets/xlsx-CBeNCG2-.js","assets/index-BTD_v4B7.js","assets/index-B3xhfwod.js","assets/index-7U69iR5x.js","assets/use-dialog-BNPsp4ad.js","assets/scroll-BIFPRt9V.js","assets/el-dialog.css","assets/el-overlay.css","assets/el-alert.css","assets/el-tag.css","assets/FormOps-pjbvif3s.js","assets/el-form-item-9Ugen9Yc.js","assets/castArray-4vH6QWS3.js","assets/el-form-item.css","assets/el-input-0lvxrQrZ.js","assets/typescript-Bp3YSIOJ.js","assets/index-DTpbkRt5.js","assets/el-input.css","assets/el-select-3TYMhfdq.js","assets/index-CzQNHh_o.js","assets/el-select.css","assets/el-col-DoTPBLsw.js","assets/el-col.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{Q as S,r as c,h as R,o as _,f as L,a as e,u as s,Z as G,w as o,b as l,t as f,e as w,c as g,g as O,F as H,y as I,D as v,_ as $}from"./app-3GUFtrOH.js";import"./el-popper-B3-nZ8oi.js";import{E as Q,a as U}from"./el-table-column-Qf0MkBiT.js";import"./el-checkbox-BsNBKZec.js";import"./el-scrollbar-CIqwUMlS.js";import{_ as Y,E as Z}from"./DashLayout-BVx64cXK.js";import"./el-popover-BVodR8qj.js";import{E as q,a as J}from"./el-button-C7x9JFIA.js";/* empty css               *//* empty css                        */import{E as K}from"./el-input-0lvxrQrZ.js";import{I as i}from"./iconify-ClSvgOuB.js";import{E as M}from"./index-BakRrTFV.js";import{E as y}from"./index-BTD_v4B7.js";import"./index-B2x63mU4.js";import"./index-Vz1i3QTS.js";import"./isEqual-DCumJgtv.js";import"./debounce-CnRpw7Y9.js";import"./_initCloneObject-C3R_YUuX.js";import"./use-form-item-dmhAT8wH.js";import"./event-HEVJa2N9.js";import"./el-divider-B9Ya5mW3.js";import"./typescript-Bp3YSIOJ.js";import"./index-DTpbkRt5.js";const W={class:"font-semibold text-xl text-gray-800 leading-tight uppercase"},X={class:"page"},ee={class:"card-toolbar flex items-center justify-between"},te={class:"card-title flex items-center"},ae={class:"card-toolbar--items flex items-center gap-1"},oe=["src"],se={class:"flex items-center gap-1"},Ve={__name:"Ops",setup(le){const r=S(),b=c(!1),B=I(()=>$(()=>import("./FormImpor-mSsCMpVR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]))),d=c(!1),V=I(()=>$(()=>import("./FormOps-pjbvif3s.js"),__vite__mapDeps([32,1,2,3,4,5,33,34,16,12,18,35,20,21,36,37,15,38,39,40,9,10,41,27,13,11,42,43,44,23,25,26,28,29,31]))),C=c(""),z=R(()=>r.props.ops),D=()=>{d.value=!1,E.value=null,v.reload({only:["ops"]})},N=()=>{b.value=!1,v.reload({only:["ops"]})},A=c(["nip","gelar_depan","nama","gelar_belakang","jk","alamat","hp","status","pangkat","email","agama","jabatan"]),E=c(null),P=p=>{E.value=p,d.value=!0},T=async p=>{v.delete(route("dashboard.ops.destroy",{id:p}),{onSuccess:a=>{y({title:"Info",message:"Data Ops dihapus",type:"success"})},onError:a=>{Object.keys(a).forEach(u=>{setTimeout(()=>{y({title:"Error",message:a[u],type:"error"})},500)})}})},x=async p=>{v.post(route("dashboard.ops.account.add"),{id:p},{onSuccess:a=>{y({title:"Info",message:"Akun Berhasil dibuat",type:"success"})},onError:a=>{Object.keys(a).forEach(u=>{setTimeout(()=>{y({title:"Error",message:a[u],type:"error"})},500)})}})};return(p,a)=>{const u=K,m=q,F=J,n=Q,h=Z,j=U;return _(),L(H,null,[e(s(G),{title:"Data Operator"}),e(Y,null,{header:o(()=>{var t;return[l("h2",W,f(s(r).props.auth.roles[0]!=="admin"?(t=s(r).props.sekolahs[0])==null?void 0:t.nama:"Admin"),1)]}),default:o(()=>[l("div",X,[e(s(M),null,{header:o(()=>[l("div",ee,[l("div",te,[e(s(i),{icon:"mdi:caccount-tie",class:"mb-1"}),a[3]||(a[3]=l("span",null,"Data Operator",-1))]),l("div",ae,[e(u,{modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=t=>C.value=t),placeholder:"Cari Ops",clearable:""},{suffix:o(()=>[e(s(i),{icon:"mdi:magnify"})]),_:1},8,["modelValue"]),e(F,{class:"flex-grow w-[300px]"},{default:o(()=>[e(m,{type:"primary",onClick:a[1]||(a[1]=t=>d.value=!0),disabled:!s(r).props.auth.can.includes("add_ops")},{default:o(()=>[e(s(i),{icon:"mdi-plus"}),a[4]||(a[4]=w(" Baru "))]),_:1},8,["disabled"]),e(m,{type:"success",onClick:a[2]||(a[2]=t=>b.value=!0),disabled:!s(r).props.auth.can.includes("add_ops")},{default:o(()=>[e(s(i),{icon:"mdi-file-excel"}),a[5]||(a[5]=w(" Impor "))]),_:1},8,["disabled"])]),_:1})])])]),default:o(()=>[e(j,{data:z.value,"max-height":"75vh",size:"small"},{default:o(()=>[e(n,{label:"Foto"},{default:o(t=>[l("img",{src:t.row.foto,class:"w-10"},null,8,oe)]),_:1}),e(n,{label:"NIP"},{default:o(t=>[e(m,{type:"primary",text:"",size:"small",onClick:k=>P(t.row)},{default:o(()=>[w(f(t.row.nip),1)]),_:2},1032,["onClick"])]),_:1}),e(n,{label:"Nama Ops"},{default:o(t=>[l("p",null,f(t.row.gelar_depan)+" "+f(t.row.nama)+", "+f(t.row.gelar_belakang),1)]),_:1}),e(n,{prop:"status",label:"Status"}),e(n,{prop:"alamat",label:"Alamat"}),e(n,{prop:"hp",label:"Nomor HP"}),e(n,{label:"Opsi"},{default:o(t=>[l("div",se,[l("span",null,[t.row.user?(_(),g(h,{key:1,size:"small",title:`Reset Password ${t.row.nama}?`,onConfirm:k=>x(t.row.id)},{reference:o(()=>[e(m,{circle:"",type:"warning",size:"small",disabled:!s(r).props.auth.can.includes("update_guru")},{default:o(()=>[e(s(i),{icon:"mdi:account-reactivate"})]),_:1},8,["disabled"])]),_:2},1032,["title","onConfirm"])):(_(),g(h,{key:0,size:"small",title:`Buatkan akun untuk ${t.row.nama}?`,onConfirm:k=>x(t.row.id)},{reference:o(()=>[e(m,{circle:"",type:"primary",size:"small"},{default:o(()=>[e(s(i),{icon:"mdi:account-plus-outline"})]),_:1})]),_:2},1032,["title","onConfirm"]))]),e(h,{size:"small",title:`Yakin menghapus data ${t.row.nama}?`,onConfirm:k=>T(t.row.id)},{reference:o(()=>[e(m,{circle:"",type:"danger",size:"small",disabled:!s(r).props.auth.can.includes("delete_guru")},{default:o(()=>[e(s(i),{icon:"mdi:delete"})]),_:1},8,["disabled"])]),_:2},1032,["title","onConfirm"])])]),_:1})]),_:1},8,["data"])]),_:1})]),d.value?(_(),g(s(V),{key:0,open:d.value,onClose:D,selectedOps:E.value},null,8,["open","selectedOps"])):O("",!0),b.value?(_(),g(s(B),{key:1,open:b.value,onClose:N,fields:A.value,url:"dashboard.ops.impor",title:"Ops"},null,8,["open","fields"])):O("",!0)]),_:1})],64)}}};export{Ve as default};
