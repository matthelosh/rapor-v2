import"./el-popper-CSgOSG04.js";import{E as $}from"./el-scrollbar-DEwsvyBO.js";/* empty css                        */import{E as z,a as F}from"./el-button-DBt5XuGS.js";import{Q as G,h as V,r as q,z as R,K as W,o as d,f as u,a as i,u as a,Z as Q,b as s,t as e,c as y,w as b,g as k,F as S,x as D,A as Z}from"./app-CXa1tqa2.js";import{I as g}from"./iconify-DvK26OuJ.js";import{c as j}from"./String-CTWqNC9X.js";import{d as J}from"./dayjs.min-BScCNWd_.js";import"./id-7wJc4GV2.js";const X={class:"toolbar h-12 bg-slate-200 w-full flex items-center justify-between print:hidden px-4"},ss={class:"toolbar-items flex items-center"},ts={class:"cetak bg-slate-100 print:bg-white w-full bg-cover pt-4 print:pt-0 pb-10 text-center font-serif"},es={class:"page w-[60%] print:w-full bg-white mx-auto shadow-lg print:shadow-none pb-6 pt-4 print:pt-0"},ls={class:"meta my-6 print:my-0"},as={class:"grid grid-cols-6 text-left px-8 my-8"},os={class:"col-span-3"},rs={class:"col-span-2"},ns={class:"nilai-mapel px-8 w-full"},ds={class:"border",width:"100%"},is={class:"print:break-inside-avoid-page border align-top border-black px-2 w-[50px]"},ps={class:"print:break-inside-avoid-page border align-top border-black px-2 text-left w-[170px]"},us={class:"print:break-inside-avoid-page border align-top border-black px-2 w-[100px]"},bs={class:"print:break-inside-avoid-page border align-top border-black px-2 w-[100px]"},cs={class:"print:break-inside-avoid-page border align-top border-black px-2 text-left"},ms={class:"my-2"},ks={class:"nilai-ekskul px-8 w-full my-8"},gs={class:"border",width:"100%"},xs={class:"border border-black px-2"},hs={class:"border border-black px-2 text-left"},fs={class:"border border-black px-2 text-left"},vs={key:0},ws={class:"border border-black text-center p-2",colspan:"3"},_s={class:"grid grid-cols-1 px-8"},ys={class:"border border-double border-black text-left p-4"},Ss={class:"ttd grid grid-cols-3 mt-8 px-8"},js={class:"col-span-1"},Ns={class:"text-left"},Bs={class:"px-2 border text-right"},Cs={class:"px-2 border text-right"},Ks={class:"px-2 border text-right"},As={class:"text-left"},Is={key:0},Ps={class:"font-bold uppercase underline leading-4 mt-20"},Ts={class:"leading-4"},Es={class:"font-bold uppercase underline leading-4 mt-20"},Ms={class:"leading-4"},Gs={__name:"RaporPAS",props:{siswa:Object,rombel:Object,arsip:Boolean,tapel:Object,semester:String},emits:["close","nextSiswa","prevSiswa"],setup(x,{emit:L}){const o=G(),l=x,v=L,h=V(()=>o.props.sekolahs[0]),r=q([]),H=()=>{v("close")},O=async()=>{await v("nextSiswa"),f()},U=async()=>{await v("prevSiswa"),f()},Y=async()=>{let c=window.location.host,t=document.querySelector(".cetak"),p=o.props.app_env=="local"?"https://localhost:5173/resources/css/app.css":"/build/assets/app.css",w=`<!doctype html>
				<html>
					<head>
						<title class="uppercase">Laporan Hasil Belajar ${l.siswa.nama}</title>
						<link rel="stylesheet" href="${p}" />
					</head>
					<body>
						${t.outerHTML}
					</body>

				</html>
	`,m=window.open(c+"/print","_blank","height=2000,width=1500");await m.document.write(w),setTimeout(()=>{m.print(),m.close()},1500)},f=async()=>{await Z.post(route("dashboard.rapor.pas",{_query:{rombelId:l.rombel.kode,semester:l.arsip?l.semester:o.props.periode.semester.kode,tapel:l.arsip?l.tapel.kode:o.props.periode.tapel.kode,siswaId:l.siswa.nisn,sekolahId:h.value.npsn}})).then(c=>{r.value=c.data}).catch(c=>{console.log(c)})};return R(()=>{f()}),W(()=>{r.value={}}),(c,t)=>{const p=z,w=F,m=$;return d(),u(S,null,[i(a(Q),{title:`Laporan Hasil Belajar Akhir Semester ${a(o).props.periode.semester.label}`},null,8,["title"]),s("div",X,[s("span",null," Cetak Rapor PAS Semester "+e(l.arsip?l.semester:a(o).props.periode.semester.label)+" Tahun "+e(l.arsip?l.tapel.label:a(o).props.periode.tapel.label),1),s("div",ss,[l.arsip?k("",!0):(d(),y(w,{key:0},{default:b(()=>[i(p,null,{default:b(()=>[i(a(g),{icon:"mdi:chevron-double-left",onClick:U})]),_:1}),i(p,{onClick:O},{default:b(()=>[i(a(g),{icon:"mdi:chevron-double-right"})]),_:1})]),_:1})),l.arsip?(d(),y(p,{key:1,onClick:f},{default:b(()=>[i(a(g),{icon:"mdi:reload"})]),_:1})):k("",!0),i(p,{onClick:Y},{default:b(()=>[i(a(g),{icon:"mdi:printer"})]),_:1}),l.arsip?k("",!0):(d(),y(p,{key:2,circle:"",type:"danger",onClick:H},{default:b(()=>[i(a(g),{icon:"mdi:close"})]),_:1}))])]),i(m,{height:"88vh"},{default:b(()=>{var N,B,C,K,A,I;return[s("div",ts,[s("div",es,[s("div",ls,[t[17]||(t[17]=s("h3",{class:"text-center font-bold text-xl uppercase"},"Laporan Hasil Belajar",-1)),s("div",as,[s("div",os,[s("table",null,[s("tr",null,[t[0]||(t[0]=s("td",null,"Nama Peserta Didik",-1)),t[1]||(t[1]=s("td",{class:"px-1"},":",-1)),s("td",null,e((N=x.siswa.nama)==null?void 0:N.toUpperCase()),1)]),s("tr",null,[t[2]||(t[2]=s("td",null,"NISN",-1)),t[3]||(t[3]=s("td",{class:"px-1"},":",-1)),s("td",null,e(x.siswa.nisn),1)]),s("tr",null,[t[4]||(t[4]=s("td",null,"Sekolah",-1)),t[5]||(t[5]=s("td",{class:"px-1"},":",-1)),s("td",null,e((B=h.value.nama)==null?void 0:B.toUpperCase()),1)]),s("tr",null,[t[6]||(t[6]=s("td",null,"Alamat",-1)),t[7]||(t[7]=s("td",{class:"px-1"},":",-1)),s("td",null,e(a(j)(h.value.alamat)),1)])])]),t[16]||(t[16]=s("div",null,null,-1)),s("div",rs,[s("table",null,[s("tr",null,[t[8]||(t[8]=s("td",null,"Kelas",-1)),t[9]||(t[9]=s("td",{class:"px-1"},":",-1)),s("td",null,e(l.rombel.label),1)]),s("tr",null,[t[10]||(t[10]=s("td",null,"Fase",-1)),t[11]||(t[11]=s("td",{class:"px-1"},":",-1)),s("td",null,e(l.rombel.fase),1)]),s("tr",null,[t[12]||(t[12]=s("td",null,"Semester",-1)),t[13]||(t[13]=s("td",{class:"px-1"},":",-1)),s("td",null,e(l.arsip?l.semester=="1"?"Ganjil":"Genap":a(o).props.periode.semester.label),1)]),s("tr",null,[t[14]||(t[14]=s("td",null,"Tahun Pelajaran",-1)),t[15]||(t[15]=s("td",{class:"px-1"},":",-1)),s("td",null,e(l.arsip?l.tapel.label:a(o).props.periode.tapel.label),1)])])])])]),s("div",ns,[s("table",ds,[t[18]||(t[18]=s("thead",null,[s("tr",{class:"bg-slate-100"},[s("th",{class:"border border-black font-bold uppercase p-2"},"No"),s("th",{class:"border border-black font-bold uppercase p-2"},"Mata Pelajaran"),s("th",{class:"border border-black font-bold uppercase p-2"},"KKTP"),s("th",{class:"border border-black font-bold uppercase p-2"},"Nilai Akhir"),s("th",{class:"border border-black font-bold uppercase p-2"},"Capaian Kompetensi")])],-1)),s("tbody",null,[(d(!0),u(S,null,D(r.value.pas,(n,_)=>{var P,T,E,M;return d(),u("tr",{key:_},[s("td",is,e(n.nomor),1),s("td",ps,e((P=n.mapel)==null?void 0:P.deskripsi),1),s("td",us,e((T=n.kktp)==null?void 0:T.minimal),1),s("td",bs,e(n.na),1),s("td",cs,[s("p",ms,"Ananda "+e(l.siswa.nama)+" menunjukkan penguasaan dalam "+e((E=n.maxu)==null?void 0:E.tp.teks),1),s("p",null,"Ananda "+e(l.siswa.nama)+" perlu bantuan dalam "+e((M=n.minu)==null?void 0:M.tp.teks),1)])])}),128))])])]),s("div",ks,[s("table",gs,[t[19]||(t[19]=s("thead",null,[s("tr",null,[s("th",{class:"border border-black p-2 bg-slate-100 w-[50px]"},"No"),s("th",{class:"border border-black p-2 bg-slate-100 w-[270px]"},"Ekstrakurikuler"),s("th",{class:"border border-black p-2 bg-slate-100"},"Keterangan")])],-1)),s("tbody",null,[(d(!0),u(S,null,D(r.value.ekskuls,(n,_)=>(d(),u("tr",{key:n.id},[s("td",xs,e(_+1),1),s("td",hs,e(n.ekskul.nama),1),s("td",fs,e(n.deskripsi),1)]))),128)),r.value.ekskuls&&r.value.ekskuls.length<1?(d(),u("tr",vs,[s("td",ws,"Ananda "+e(l.siswa.nama)+" tidak mengikuti program Ekskul",1)])):k("",!0)])])]),s("div",_s,[t[20]||(t[20]=s("h3",{class:"text-left font-bold"},"Catatan Wali Kelas",-1)),s("div",ys,[s("p",null,e(r.value.catatan),1)])]),s("div",Ss,[s("div",js,[s("table",null,[t[24]||(t[24]=s("thead",null,[s("tr",{class:"bg-slate-100"},[s("th",{class:"border",colspan:"2"},"Ketidakhadiran")])],-1)),s("tbody",Ns,[s("tr",null,[t[21]||(t[21]=s("td",{class:"px-2 border"},"Sakit",-1)),s("td",Bs,e(((C=r.value.absensi)==null?void 0:C.sakit)??"-")+" hari",1)]),s("tr",null,[t[22]||(t[22]=s("td",{class:"px-2 border"},"Izin",-1)),s("td",Cs,e(((K=r.value.absensi)==null?void 0:K.ijin)??"-")+" hari",1)]),s("tr",null,[t[23]||(t[23]=s("td",{class:"px-2 border"},"Tanpa Keterangan",-1)),s("td",Ks,e(((A=r.value.absensi)==null?void 0:A.alpa)??"-")+" hari",1)])])])]),s("div",As,[parseInt(a(o).props.periode.semester.kode)/2===0?(d(),u("div",Is,[t[25]||(t[25]=s("p",{class:"font-bold"},"Keputusan:",-1)),t[26]||(t[26]=s("p",null,"Berdasarkan hasil belajar yang telah dicapai,",-1)),s("p",null,"Ananda "+e(l.siswa.nama)+", dinyatakan Naik ke kelas "+e(parseInt(l.rombel.tingkat)+1),1)])):k("",!0)]),s("div",null,[s("p",null,e(a(j)(h.value.desa))+", "+e(a(J)((I=r.value.tanggal)==null?void 0:I.tanggal).locale("id").format("DD MMMM YYYY")),1),s("p",null,"Wali Kelas "+e(x.rombel.label),1),s("p",Ps,e(a(o).props.auth.user.userable.nama)+", "+e(a(o).props.auth.user.userable.gelar_belakang),1),s("p",Ts,"NIP. "+e(a(o).props.auth.user.userable.nip),1)]),t[28]||(t[28]=s("div",null,[s("p",null,"Â "),s("p",null,"TTD Orang Tua Peserta Didik"),s("p",{class:"font-bold uppercase underline leading-4 mt-20"},"......................................."),s("p",{class:"leading-4"})],-1)),s("div",null,[t[27]||(t[27]=s("p",{class:"mt-20"},"Mengetahui,",-1)),s("p",null,"Kepala "+e(a(j)(a(o).props.sekolahs[0].nama)),1),s("p",Es,e(a(o).props.sekolahs[0].ks.nama)+", "+e(a(o).props.sekolahs[0].ks.gelar_belakang),1),s("p",Ms,"NIP. "+e(a(o).props.sekolahs[0].ks.nip),1)]),t[29]||(t[29]=s("div",null,null,-1))])])])]}),_:1})],64)}}};export{Gs as _};
