const __vite__fileDeps=["assets/Kop-BD7kfmAh.js","assets/el-popper-BDGooy4u.js","assets/app-CFgijPJ9.js","assets/app.css","assets/index-Bj972BkU.js","assets/el-popper.css","assets/el-image-viewer-DSAH8YAJ.js","assets/typescript-Bp3YSIOJ.js","assets/debounce-g4xw4pMO.js","assets/index-DjMxVoyT.js","assets/scroll-Toyc_l0B.js","assets/el-image-viewer.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{Q as A,r as j,z as L,o as n,c as _,w as d,b as t,t as l,a as o,u as e,f as i,F as v,x,n as z,e as N,y as F,_ as K}from"./app-CFgijPJ9.js";import"./el-popper-BDGooy4u.js";/* empty css                  *//* empty css                   */import{E as U,a as G}from"./el-col-BC_5rDGT.js";/* empty css                */import{E as O}from"./el-image-viewer-DSAH8YAJ.js";/* empty css                 */import{E as R}from"./el-button-CNPsJZr7.js";import{I as h}from"./iconify-DaJ_uKCn.js";import{d as y}from"./dayjs.min-CG_u0vsm.js";import"./id-BdBUXNUy.js";import"./html2pdf-jEBBfX-l.js";import"./html2canvas.esm-DZYxW0iY.js";import{E as q}from"./index-DMs8Q0tz.js";import{E as H}from"./index-D3V0N8pY.js";import{E as Q}from"./index-CuyebXB1.js";import"./index-Bj972BkU.js";import"./typescript-Bp3YSIOJ.js";import"./debounce-g4xw4pMO.js";import"./index-DjMxVoyT.js";import"./scroll-Toyc_l0B.js";import"./use-form-item-CtTg29sZ.js";import"./typeof-QjJsDpFa.js";import"./use-dialog-lqoLPJmw.js";import"./event-HEVJa2N9.js";const W={class:"flex items-center justify-between"},X={class:"font-bold text-lg text-sky-800"},Z={class:"cetak"},tt={class:"mx-auto my-6"},st={class:"jurnals"},lt={key:1,class:"items"},et={class:"w-full border border-black"},ot={class:"bg-slate-100"},rt={class:"p-2 border border-black"},at={class:"font-bold uppercase text-lg"},nt={class:"p-2 border border-black"},dt={contenteditable:"true"},it={class:"p-2 border border-black"},pt={class:"p-2 border border-black"},ut={key:0,class:"list-decimal pl-4"},mt={key:1},ct={class:"text-center p-2 border border-black",colspan:"3",align:"center"},bt={class:"ttd grid grid-cols-10"},ft={class:"col-span-4 ttd-ks text-center"},kt={class:"mt-10 font-bold underline"},gt={class:"uppercase"},_t={class:"leading-4"},vt={class:"col-span-4 ttd-gpai text-center"},xt={class:"mt-10 font-bold underline"},ht={class:"uppercase"},yt={class:"leading-4"},wt={class:"flex items-center mb-4"},Et={class:"font-bold uppercase text-sky-700 mb-2"},Mt={class:"mb-2 flex items-center gap-2 border-b border-dashed hover:bg-sky-50 py-1"},Xt={__name:"CetakJurnalSpn",props:{jilid:Object},emits:["close"],setup(w,{emit:D}){const P=F(()=>K(()=>import("./Kop-BD7kfmAh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),r=A(),m=w,B=D,E=j(!1);y.locale("id");const c=j([]),b=j([]),I=p=>{const s=c.value[p];b.value.push(s),c.value.splice(p,1)},J=()=>{const p=document.querySelector(".cetak");let f=`
        <!doctype html>
        <html>
            <head>
                <title>Jurnal SPN</title>  
                <link rel="stylesheet" href="${r.props.app_env=="local"?"https://localhost:5173/resources/css/app.css":"/build/assets/app.css"}" />  
            </head>
            <body>
                ${p.outerHTML}
            </body>
        </html>

    `,k=window.open("","_blank","width=800,height=1200");k.document.write(f),setTimeout(()=>{k.print()},1e3)},S=p=>{const s=b.value[p];c.value.push(s),b.value.splice(p,1)};return L(()=>{E.value=m.jilid!==null,c.value=m.jilid.jurnals}),(p,s)=>{const f=R,k=q,V=O,g=H,Y=U,T=G,$=Q;return n(),_($,{fullscreen:"",modelValue:E.value,"onUpdate:modelValue":s[1]||(s[1]=a=>E.value=a),"show-close":!1},{header:d(()=>[t("div",W,[t("h3",X,"Cetak Jurnal SPN "+l(m.jilid.nama),1),o(f,{circle:"",type:"danger",onClick:s[0]||(s[0]=a=>B("close"))},{default:d(()=>[o(e(h),{icon:"mdi:close"})]),_:1})])]),default:d(()=>[o(g,{shadow:"never"},{default:d(()=>[o(T,{gutter:20},{default:d(()=>[o(Y,{span:18},{default:d(()=>[t("div",Z,[o(g,{class:"mb-4"},{default:d(()=>[o(e(P)),s[29]||(s[29]=t("h3",{class:"text-center font-black uppercase my-8 text-lg"},"Laporan Berkala Sekolah Plus Ngaji",-1)),t("table",tt,[t("tr",null,[s[2]||(s[2]=t("td",null,"Nama Sekolah",-1)),s[3]||(s[3]=t("td",{class:"px-2"},":",-1)),t("td",null,l(e(r).props.sekolahs[0].nama),1),s[4]||(s[4]=t("td",{class:"px-4"},null,-1)),s[5]||(s[5]=t("td",null,"Jilid",-1)),s[6]||(s[6]=t("td",{class:"px-2"},":",-1)),t("td",null,l(m.jilid.nama),1)]),t("tr",null,[s[7]||(s[7]=t("td",null,"Nama Guru",-1)),s[8]||(s[8]=t("td",{class:"px-2"},":",-1)),t("td",null,l(e(r).props.auth.user.userable.nama),1),s[9]||(s[9]=t("td",{class:"px-4"},null,-1)),s[10]||(s[10]=t("td",null,"Semester",-1)),s[11]||(s[11]=t("td",{class:"px-2"},":",-1)),t("td",null,l(e(r).props.periode.semester.label),1)]),t("tr",null,[s[12]||(s[12]=t("td",null,"NIP",-1)),s[13]||(s[13]=t("td",{class:"px-2"},":",-1)),t("td",null,l(e(r).props.auth.user.userable.nip),1),s[14]||(s[14]=t("td",{class:"px-4"},null,-1)),s[15]||(s[15]=t("td",null,"Tahun Pelajaran",-1)),s[16]||(s[16]=t("td",{class:"px-2"},":",-1)),t("td",null,l(e(r).props.periode.tapel.label),1)])]),t("div",st,[b.value.length<1?(n(),_(k,{key:0,type:"error",style:{width:"50%",margin:"20px auto",padding:"20px"},title:"Pilih jurnal di samping","show-close":!1})):(n(),i("div",lt,[(n(!0),i(v,null,x(b.value,(a,M)=>(n(),_(g,{class:"mb-10 w-[80%] mx-auto group relative break-inside-avoid-page"},{default:d(()=>[o(e(h),{icon:"mdi:trash-can",class:"hidden group-hover:block text-red-500 text-2xl hover:cursor-pointer absolute right-4",onClick:u=>S(M)},null,8,["onClick"]),t("table",et,[t("tr",ot,[s[17]||(s[17]=t("td",{class:"p-2 border border-black"},[t("h3",{class:"font-bold uppercase text-lg"},"Materi")],-1)),s[18]||(s[18]=t("td",{class:"border border-black",align:"center"}," : ",-1)),t("td",rt,[t("h3",at,l(a.materi),1)])]),t("tr",null,[s[19]||(s[19]=t("td",{class:"p-2 border border-black"},[t("h3",null,"Tanggal")],-1)),s[20]||(s[20]=t("td",{class:"border border-black text-center"},[t("h3",null,":")],-1)),t("td",nt,[t("h3",dt,l(e(y)(a.created_at).format("DD MMMM YYYY")),1)])]),t("tr",null,[s[21]||(s[21]=t("td",{class:"p-2 border border-black"},[t("h3",null,"Keterangan")],-1)),s[22]||(s[22]=t("td",{class:"border border-black",align:"center"},[t("h3",null,":")],-1)),t("td",it,[t("p",null,l(a.keterangan),1)])]),t("tr",null,[s[23]||(s[23]=t("td",{class:"p-2 border border-black"},[t("h3",null,"Absensi")],-1)),s[24]||(s[24]=t("td",{class:"border border-black",align:"center"},[t("h3",null,":")],-1)),t("td",pt,[a.absensis?(n(),i("ul",ut,[(n(!0),i(v,null,x(a.absensis.split(","),u=>(n(),i("li",null,l(w.jilid.siswas.find(C=>C.nisn==u).nama)+" ("+l(w.jilid.siswas.find(C=>C.nisn==u).rombels[0].label)+")",1))),256))])):(n(),i("p",mt,"Nihil"))])]),t("tr",null,[t("td",ct,[s[25]||(s[25]=t("h3",{class:"text-center"},"Bukti Foto:",-1)),t("div",{class:z([`grid grid-cols-${a.fotos.split(",").length}`,"gap-4 p-2"])},[(n(!0),i(v,null,x(a.fotos.split(","),u=>(n(),_(V,{src:u,fit:"cover"},null,8,["src"]))),256))],2)])])])]),_:2},1024))),256))]))]),t("div",bt,[t("div",ft,[s[26]||(s[26]=t("p",null,"Mengetahui,",-1)),t("p",null,"Kepala "+l(e(r).props.auth.user.userable.sekolahs[0].nama),1),t("p",kt,[t("span",gt,l(e(r).props.auth.user.userable.nama),1),N(", "+l(e(r).props.auth.user.userable.gelar_belakang),1)]),t("p",_t,"NIP. "+l(e(r).props.auth.user.userable.nip),1)]),s[28]||(s[28]=t("div",{class:"t col-span-2"},null,-1)),t("div",vt,[t("p",null,"Malang, "+l(e(y)(new Date).format("DD MMMM YYYY")),1),s[27]||(s[27]=t("p",null,"Guru Pendidikan Agama Islam",-1)),t("p",xt,[t("span",ht,l(e(r).props.auth.user.userable.nama),1),N(", "+l(e(r).props.auth.user.userable.gelar_belakang),1)]),t("p",yt,"NIP. "+l(e(r).props.auth.user.userable.nip),1)])])]),_:1})])]),_:1}),o(Y,{span:6},{default:d(()=>[o(g,null,{default:d(()=>[t("div",wt,[o(f,{type:"primary",onClick:J},{default:d(()=>[o(e(h),{icon:"mdi:printer"}),s[30]||(s[30]=t("span",{class:"ml-1"},"Cetak",-1))]),_:1})]),t("h3",Et,"Data Jurnal "+l(m.jilid.nama)+": ",1),t("ul",null,[(n(!0),i(v,null,x(c.value,(a,M)=>(n(),i("li",Mt,[o(f,{circle:"",size:"small",type:"primary",onClick:u=>I(M)},{default:d(()=>[o(e(h),{icon:"mdi:plus"})]),_:2},1032,["onClick"]),N(" "+l(e(y)(a.created_at).format("DD/MM/YYYY"))+" | "+l(a.materi),1)]))),256))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{Xt as default};
