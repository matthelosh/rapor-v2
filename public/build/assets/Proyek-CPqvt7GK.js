const __vite__fileDeps=["assets/FormNilaiP5-_hQTMq2S.js","assets/el-popper-BDGooy4u.js","assets/app-CFgijPJ9.js","assets/app.css","assets/index-Bj972BkU.js","assets/el-popper.css","assets/el-loading-C5TqD6ka.js","assets/el-loading.css","assets/el-input-DbVz-qNy.js","assets/typescript-Bp3YSIOJ.js","assets/event-HEVJa2N9.js","assets/index-DjMxVoyT.js","assets/use-form-item-CtTg29sZ.js","assets/el-input.css","assets/el-select-C2_VNSgr.js","assets/el-scrollbar-6H1TZwJZ.js","assets/el-scrollbar.css","assets/index-7U4WfkqU.js","assets/isEqual-CB-qJuSE.js","assets/scroll-Toyc_l0B.js","assets/debounce-g4xw4pMO.js","assets/index-CHQ3r0BM.js","assets/castArray---o2jS6O.js","assets/el-select.css","assets/el-button-CNPsJZr7.js","assets/el-button.css","assets/iconify-DaJ_uKCn.js","assets/index-2XnZ98l4.js","assets/index-D3V0N8pY.js","assets/index-CuyebXB1.js","assets/use-dialog-lqoLPJmw.js","assets/el-dialog.css","assets/el-overlay.css","assets/el-card.css","assets/el-tag.css","assets/RaporP5-CYReyq4O.js","assets/el-col-BC_5rDGT.js","assets/el-col.css","assets/el-affix-f252Sb1v.js","assets/el-affix.css","assets/el-table-column-BktMMlsb.js","assets/el-checkbox-CaGQrgYV.js","assets/el-checkbox.css","assets/_initCloneObject-BMYI3sUv.js","assets/el-table-column.css","assets/el-divider-CE4chZyO.js","assets/el-divider.css","assets/el-image-viewer-DSAH8YAJ.js","assets/el-image-viewer.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as h,Q as Y,h as ee,o as a,f as u,a as t,u as x,Z as le,w as o,e as d,b as n,c as i,g as c,F as k,x as b,t as m,y as I,D as te,_ as S}from"./app-CFgijPJ9.js";import"./el-popper-BDGooy4u.js";import{E as oe,a as ae}from"./el-form-item-BgjdVhXU.js";/* empty css                          */import{E as se,a as ne}from"./el-checkbox-CaGQrgYV.js";import{E as re}from"./el-input-DbVz-qNy.js";/* empty css               */import{E as ue,a as ie}from"./el-select-C2_VNSgr.js";import"./el-scrollbar-6H1TZwJZ.js";import{E as me,a as pe}from"./el-col-BC_5rDGT.js";/* empty css                *//* empty css                         */import{E as de,a as _e}from"./el-table-column-BktMMlsb.js";/* empty css                        */import{E as fe,a as ce}from"./el-button-CNPsJZr7.js";import{_ as ke}from"./DashLayout-DUpmEd-y.js";import{E as j}from"./index-2XnZ98l4.js";import{E as ve,a as be}from"./index-CPnEHjNx.js";import{E as ye}from"./index-D3V0N8pY.js";import"./index-Bj972BkU.js";import"./castArray---o2jS6O.js";import"./use-form-item-CtTg29sZ.js";import"./isEqual-CB-qJuSE.js";import"./_initCloneObject-BMYI3sUv.js";import"./event-HEVJa2N9.js";import"./typescript-Bp3YSIOJ.js";import"./index-DjMxVoyT.js";import"./index-7U4WfkqU.js";import"./scroll-Toyc_l0B.js";import"./debounce-g4xw4pMO.js";import"./index-CHQ3r0BM.js";import"./el-popover-Cvgn8qLn.js";import"./iconify-DaJ_uKCn.js";import"./el-divider-CE4chZyO.js";const Ee={class:"flex items-center justify-between"},Pe={class:"flex items-center"},Ve={key:0},xe={class:"flex items-center justify-between"},Ce={class:"flex items-center justify-between"},he={class:"label"},ge={class:"items"},De={key:1,class:"form"},we={class:"pl-8"},il={__name:"Proyek",props:{proyeks:Array,dimensis:Array},setup(g){const A=I(()=>S(()=>import("./FormNilaiP5-_hQTMq2S.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]))),U=I(()=>S(()=>import("./RaporP5-CYReyq4O.js"),__vite__mapDeps([35,1,2,3,4,5,36,9,37,38,10,19,39,40,15,16,21,18,20,41,12,42,43,44,45,46,47,11,48,24,25,26,29,30,31,32,34]))),r=h("list"),D=h(!1),y=Y(),L=g;ee(()=>y.props.auth.user.roles[0]);const s=h({}),O=()=>{r.value="form"},G=async()=>{te.post(route("dashboard.p5.proyek.store",{_query:{sekolah:y.props.sekolahs[0].npsn}}),s.value,{onStart:()=>D.value=!0,onSuccess:()=>{j({title:"Info",message:y.props.flash.message,type:"success"})},onError:f=>{Object.keys(f).forEach(e=>{setTimeout(()=>{j({title:"Error",message:f[e],type:"error"})},1e3)})},onFinish:()=>D.value=!1})},_=h(null),M=f=>{r.value="input-nilai",_.value=f},q=f=>{r.value="cetak-rapor",_.value=f},w=()=>{r.value="list",_.value=null};return(f,e)=>{const E=fe,Q=ce,P=de,Z=_e,N=ve,F=be,$=ye,z=me,H=pe,B=re,v=oe,R=ue,T=ie,J=se,K=ne,W=ae;return a(),u(k,null,[t(x(le),{title:"Data Proyek"}),t(ke,null,{header:o(()=>e[7]||(e[7]=[d(" Data Proyek ")])),default:o(()=>[t($,null,{header:o(()=>[n("div",Ee,[e[10]||(e[10]=n("h3",null,"Manajemen Proyek P5",-1)),n("div",Pe,[r.value=="list"?(a(),i(E,{key:0,type:"primary",onClick:O},{default:o(()=>e[8]||(e[8]=[d("Buat Proyek")])),_:1})):c("",!0),r.value=="form"?(a(),i(E,{key:1,type:"danger",onClick:e[0]||(e[0]=l=>r.value="list")},{default:o(()=>e[9]||(e[9]=[d("Batal")])),_:1})):c("",!0)])])]),default:o(()=>[r.value=="list"?(a(),u("div",Ve,[t(H,{gutter:20,style:{"margin-bottom":"20px"}},{default:o(()=>[(a(!0),u(k,null,b(L.proyeks,(l,V)=>(a(),i(z,{key:V,span:12},{default:o(()=>[t($,{shadow:"hover",class:"mb-4"},{header:o(()=>[n("div",xe,[n("h3",null,"Proyek P5: "+m(l.nama),1)])]),default:o(()=>[n("div",Ce,[n("div",he,[n("h1",null,m(l.rombel.label),1),n("h1",null,"Semester "+m(l.semester.label)+" Tahun Pelajaran "+m(l.tapel.label),1),n("p",null,"Deskripsi: "+m(l.deskripsi),1)]),n("div",ge,[t(Q,null,{default:o(()=>[t(E,{onClick:C=>M(l)},{default:o(()=>e[11]||(e[11]=[d("Input Nilai")])),_:2},1032,["onClick"]),t(E,{onClick:C=>q(l)},{default:o(()=>e[12]||(e[12]=[d("Cetak Rapor")])),_:2},1032,["onClick"])]),_:2},1024)])]),t(F,null,{default:o(()=>[t(N,{title:"Lihat Dimensi dan Elemen"},{default:o(()=>[t(Z,{data:l.apds,"max-height":"500"},{default:o(()=>[t(P,{label:"No",type:"index"}),t(P,{label:"Dimensi",prop:"elemen.dimensi.dimensi",width:"150"}),t(P,{label:"Elemen",prop:"elemen.teks",width:"150"}),t(P,{label:"Sub Elemen",prop:"sub_elemen",width:"150"}),t(P,{label:"Target Pencapaian Akhir Fase",prop:"teks"})]),_:2},1032,["data"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):c("",!0),r.value=="form"?(a(),u("div",De,[e[14]||(e[14]=n("h3",{class:"text-lg font-bold text-sky-700 text-center mb-4 uppercase"},"Formulir Proyek P5",-1)),t(W,{modelValue:s.value,"onUpdate:modelValue":e[6]||(e[6]=l=>s.value=l),"label-width":"200"},{default:o(()=>[t(v,{label:"Nama"},{default:o(()=>[t(B,{modelValue:s.value.nama,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.nama=l),placeholder:"Nama Proyek"},null,8,["modelValue"])]),_:1}),t(v,{label:"Deskripsi"},{default:o(()=>[t(B,{type:"textarea",modelValue:s.value.deskripsi,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.deskripsi=l),placeholder:"Deskripsi Proyek"},null,8,["modelValue"])]),_:1}),t(v,{label:"Rombel"},{default:o(()=>[t(T,{modelValue:s.value.rombel_id,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.rombel_id=l),placeholder:"Pilih Rombel"},{default:o(()=>[(a(!0),u(k,null,b(x(y).props.rombels,(l,V)=>(a(),i(R,{value:l.kode,label:`${l.label}`},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"Dimensi P5"},{default:o(()=>[t(T,{modelValue:s.value.dimensis,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.dimensis=l),placeholder:"Pilih Dimensi",multiple:"","value-key":"id"},{default:o(()=>[(a(!0),u(k,null,b(g.dimensis,(l,V)=>(a(),i(R,{key:l.id,value:l,label:`${l.dimensi} (${l.kode})`},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s.value.dimensis&&s.value.dimensis.length>0?(a(),i(v,{key:0,label:"Elemen"},{default:o(()=>[t(F,null,{default:o(()=>[(a(!0),u(k,null,b(s.value.dimensis,(l,V)=>(a(),i(N,{key:V,title:`${l.dimensi} (${l.kode})`},{default:o(()=>[n("ul",null,[(a(!0),u(k,null,b(l.elemens,C=>(a(),u("li",null,[d(m(C.teks)+" ",1),n("ul",we,[t(K,{modelValue:s.value.apd_ids,"onUpdate:modelValue":e[5]||(e[5]=p=>s.value.apd_ids=p)},{default:o(()=>[(a(!0),u(k,null,b(C.apds.filter(p=>p.fase==x(y).props.rombels.find(X=>X.kode==s.value.rombel_id).fase),p=>(a(),u("li",null,[t(J,{value:p.id},{default:o(()=>[d(" Fase "+m(p.fase)+" | "+m(p.sub_elemen)+" | "+m(p.teks),1)]),_:2},1032,["value"])]))),256))]),_:2},1032,["modelValue"])])]))),256))])]),_:2},1032,["title"]))),128))]),_:1})]),_:1})):c("",!0),t(v,null,{default:o(()=>[t(E,{type:"primary",onClick:G},{default:o(()=>e[13]||(e[13]=[d("Simpan")])),_:1})]),_:1})]),_:1},8,["modelValue"])])):c("",!0)]),_:1}),_.value!==null&&r.value=="input-nilai"?(a(),i(x(A),{key:0,proyek:_.value,onClose:w},null,8,["proyek"])):c("",!0),_.value!==null&&r.value=="cetak-rapor"?(a(),i(x(U),{key:1,proyek:_.value,onClose:w},null,8,["proyek"])):c("",!0)]),_:1})],64)}}};export{il as default};
