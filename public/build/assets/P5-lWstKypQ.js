import"./el-popper-CSgOSG04.js";import{v as A}from"./el-loading-6t0r41SN.js";/* empty css                *//* empty css                         */import{E as C,a as D}from"./el-table-column-D21P0-60.js";import"./el-checkbox-BMdlwYn5.js";import"./el-scrollbar-DEwsvyBO.js";/* empty css               */import{E as B}from"./el-button-DBt5XuGS.js";import{r as u,o as n,f as b,a as e,u as T,Z as $,w as t,e as y,i as j,c as k,b as l,F as E,x as N,t as S,D as F}from"./app-CXa1tqa2.js";import"./iconify-DvK26OuJ.js";import{r as I,u as V}from"./xlsx-CBeNCG2-.js";import{_ as L}from"./DashLayout-BmOUZM9s.js";import{E as h}from"./index-CQp_kVH7.js";import{E as z,a as M}from"./index-fM0GWilN.js";import{E as O}from"./index-C-oZYRc2.js";import"./index-D5RD23Xt.js";import"./index-DXeYCgt3.js";import"./isEqual-Dax5dt4i.js";import"./debounce-BJCIde5Q.js";import"./_initCloneObject-DuFWQ6ld.js";import"./use-form-item-THgkJ5sh.js";import"./event-HEVJa2N9.js";import"./el-popover-C-6kZ3_v.js";import"./el-divider-Bz5v_98_.js";import"./typescript-Bp3YSIOJ.js";import"./castArray-Dh1HViVK.js";const Z={class:"flex items-center justify-between"},q={class:"flex items-center gap-2"},G={class:"pl-8"},H={class:"font-bold"},Ee={__name:"P5",props:{p5s:Array},setup(g){const x=g,p=u(!1);u("list"),u([]);const v=async m=>{p.value=!0;const d=await m.target.files[0].arrayBuffer(),s=I(d),i=s.Sheets[s.SheetNames[0]],c=V.sheet_to_json(i);await F.post(route("dashboard.apd.impor"),{datas:c},{onSuccess:a=>{h({title:"Info",message:a.props.flash.message,type:"success"})},onError:a=>{Object.keys(a).forEach(f=>{setTimeout(()=>{h({title:"Error",message:a[f],type:"error"})},500)})},onFinish:()=>p.value=!1})};return(m,o)=>{const d=B,s=C,i=D,c=z,a=M,f=O,P=A;return n(),b(E,null,[e(T($),{title:"P5"}),e(L,null,{header:t(()=>o[1]||(o[1]=[y(" Manajemen P5 ")])),default:t(()=>[j((n(),k(f,{class:"body"},{header:t(()=>[l("div",Z,[o[3]||(o[3]=l("h3",{class:"font-bold text-sky-800"},"Proyek Penguatan Profil Pelajar Pancasila (P5)",-1)),l("div",q,[l("input",{type:"file",ref:"fileApd",accept:".xls,.xlsx,.csv,.ods",onChange:v,class:"hidden"},null,544),e(d,{type:"primary",size:"small",onClick:o[0]||(o[0]=r=>m.$refs.fileApd.click())},{default:t(()=>o[2]||(o[2]=[y(" Impor APD ")])),_:1})])])]),default:t(()=>[e(a,null,{default:t(()=>[(n(!0),b(E,null,N(x.p5s,(r,_)=>(n(),k(c,{key:_,title:`${_+1}. ${r.dimensi} (${r.kode}) `},{default:t(()=>[e(i,{data:r.elemens},{default:t(()=>[e(s,{label:"#",type:"index"}),e(s,{label:"Teks",prop:"teks"}),e(s,{label:"APD",type:"expand",width:"200"},{default:t(w=>[l("div",G,[l("h3",H,"Alur Perkembangan Dimensi "+S(r.kode),1),e(i,{data:w.row.apds},{default:t(()=>[e(s,{label:"#",type:"index"}),e(s,{label:"Teks",prop:"teks"}),e(s,{label:"Fase",prop:"fase",width:"100"})]),_:2},1032,["data"])])]),_:2},1024)]),_:2},1032,["data"])]),_:2},1032,["title"]))),128))]),_:1})]),_:1})),[[P,p.value]])]),_:1})],64)}}};export{Ee as default};
